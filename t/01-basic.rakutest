use Test;
use Slang::Nogil;

my constant @core = <
  class constant grammar method module native package regex role rule
  sub submethod token
>;
my constant @type = <
  int Int str Str num Num
>;

plan 8 + @core + @type;

my a = 42;
is a, 42, 'does it work with scalars';
is a + a, 84, 'does it work with expressions';

my @a = ^100;
is @a[a], 42, 'can we use it as an index';

my %h = a => 666;
is %h<a>, 666, 'can we use it as a key';

my ğŸ‘ = 42;
is ğŸ‘, 42, 'does it work with scalars';
is ğŸ‘ + ğŸ‘, 84, 'does it work with expressions';

my @b = ^100;
is @b[ğŸ‘], 42, 'can we use it as an index';

my %i = ğŸ‘ => 666;
is %i{ğŸ‘}, 666, 'can we use it as a key';

for @core {
    lives-ok { "my $_ foo \{ }" }, "does 'my $_ foo \{ }' parse";
}

for @type {
    lives-ok { "my $_ foo" }, "does 'my $_ foo' parse";
}

# vim: expandtab shiftwidth=4
